<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶Æ‡¶ø‡¶∑‡ßç‡¶ü‡¶ø ‡¶ï‡ßÅ‡¶Æ‡ßú‡¶æ ‡¶¨‡¶ü - ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style-pumpkin.css">
    <style>
        body {
            padding-bottom: 80px;
            background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
        }
        
        .task-card {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        
        .task-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 152, 0, 0.15);
        }
        
        .task-card.available {
            border-left-color: #8BC34A;
        }
        
        .task-card.completed {
            border-left-color: #2196F3;
            opacity: 0.8;
        }
        
        .task-card.limited {
            border-left-color: #FF9800;
        }
        
        .progress-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: conic-gradient(#FF9800 var(--progress), #E0E0E0 0deg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #333;
        }
    </style>
</head>
<body class="font-sans">
    <!-- ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá -->
    <div id="loadingOverlay" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="pumpkin-spinner"></div>
            <p class="text-gray-600 mt-4 text-lg">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        </div>
    </div>

    <div class="container mx-auto px-4 py-6">
        <!-- ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
        <div class="pumpkin-header mb-6 fade-in">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl font-bold">üìã ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</h1>
                    <p class="text-white/80 text-sm">‡¶Ü‡ßü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶∏‡¶π‡¶ú ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶ï‡¶∞‡ßá</p>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="bg-white/20 px-3 py-1 rounded-full text-sm">
                        <span id="adsRemaining">‡ß¶</span>/‡ßß‡ß¶ ‡¶¨‡¶æ‡¶ï‡¶ø
                    </span>
                    <i class="fas fa-tasks text-2xl text-white/80"></i>
                </div>
            </div>
        </div>
<div class="mb-6"><a href="index.html" class="block w-full pumpkin-btn mt-6 bg-gradient-to-r from-gray-500 to-gray-600">
            <i class="fas fa-arrow-left mr-2"></i>‡¶π‡ßã‡¶Æ ‡¶™‡ßá‡¶ú‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®
        </a></div>
        <!-- ‡¶Æ‡ßá‡¶® ‡¶è‡¶° ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
        <div class="pumpkin-card mb-6 task-card available">
            <div class="flex items-start justify-between mb-4">
                <div class="flex-1">
                    <div class="flex items-center mb-2">
                        <i class="fas fa-play-circle text-2xl text-orange-500 mr-2"></i>
                        <h3 class="text-lg font-bold">‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h3>
                        <span class="pumpkin-badge ml-2">‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®</span>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡ß©‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ</p>
                    
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-gray-500">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü</p>
                            <p class="text-sm font-medium">‡ßß‡ß¶‡¶ü‡¶ø ‡¶è‡¶°/‡¶ò‡¶®‡ßç‡¶ü‡¶æ</p>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-gray-500">‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</p>
                            <p class="text-sm font-medium text-orange-600" id="resetTimer">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mb-4">
                <div class="flex justify-between text-sm mb-1">
                    <span>‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏</span>
                    <span id="todayAds">‡ß¶/‡ßß‡ß¶</span>
                </div>
                <div class="pumpkin-progress">
                    <div class="pumpkin-progress-fill" id="progressBar" style="width: 0%"></div>
                </div>
            </div>
            
            <a href="watch-ads-pumpkin.html" class="block w-full pumpkin-btn text-center">
                <i class="fas fa-play mr-2"></i>‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
            </a>
        </div>

        <!-- ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶∏ -->
        <div class="pumpkin-card">
            <h3 class="text-lg font-bold mb-4 text-gray-800">üéÅ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶∏</h3>
            <div class="space-y-4">
                
                <!-- ‡¶¨‡¶æ‡¶°‡¶æ‡¶ì ‡¶è‡¶° -->
                <div class="task-card limited p-4 rounded-xl border">
                    <div class="flex items-start justify-between mb-3">
                        <div>
                            <div class="flex items-center mb-1">
                                <i class="fas fa-bolt text-yellow-500 mr-2"></i>
                                <h4 class="font-semibold">‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            </div>
                            <p class="text-green-600 text-sm font-semibold">‡ß≠ ‡¶ü‡¶æ‡¶ï‡¶æ/‡¶è‡¶°</p>
                            <p class="text-gray-500 text-xs mt-1">‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® ‡ß´‡ß¶‡¶ü‡¶ø ‡¶è‡¶°</p>
                        </div>
                        <div class="text-right">
                            <span class="text-xs font-medium text-green-600" id="badDaoTodayAds">‡ß¶/‡ß´‡ß¶</span>
                        </div>
                    </div>
                    <a href="bad-dao-ads-pumpkin.html" class="block w-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white py-2 rounded-lg font-semibold text-center hover:from-yellow-600 hover:to-orange-600 transition-colors">
                        <i class="fas fa-bolt mr-2"></i>‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </a>
                </div>

                <!-- ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡ßß -->
                <div class="task-card available p-4 rounded-xl border">
                    <div class="flex items-start justify-between mb-3">
                        <div>
                            <div class="flex items-center mb-1">
                                <i class="fas fa-star text-yellow-500 mr-2"></i>
                                <h4 class="font-semibold">‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            </div>
                            <p class="text-green-600 text-sm font-semibold">‡ßß‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ/‡¶è‡¶°</p>
                            <p class="text-gray-500 text-xs mt-1">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡ßü ‡ßß‡ß¶‡¶ü‡¶ø</p>
                        </div>
                        <div class="text-right">
                            <span class="text-xs font-medium text-green-600" id="bonusAdsCount">‡ß¶/‡ßß‡ß¶</span>
                        </div>
                    </div>
                    <a href="bonus-ads-pumpkin.html" class="block w-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white py-2 rounded-lg font-semibold text-center hover:from-yellow-600 hover:to-orange-600 transition-colors">
                        <i class="fas fa-star mr-2"></i>‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </a>
                </div>

                <!-- ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡ß® -->
                <div class="task-card available p-4 rounded-xl border">
                    <div class="flex items-start justify-between mb-3">
                        <div>
                            <div class="flex items-center mb-1">
                                <i class="fas fa-gem text-purple-500 mr-2"></i>
                                <h4 class="font-semibold">‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡ß® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            </div>
                            <p class="text-green-600 text-sm font-semibold">‡ßß‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ/‡¶è‡¶°</p>
                            <p class="text-gray-500 text-xs mt-1">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡ßü ‡ßß‡ß¶‡¶ü‡¶ø</p>
                        </div>
                        <div class="text-right">
                            <span class="text-xs font-medium text-green-600" id="bonusAdsCount2">‡ß¶/‡ßß‡ß¶</span>
                        </div>
                    </div>
                    <a href="bonus-ads-2-pumpkin.html" class="block w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 rounded-lg font-semibold text-center hover:from-purple-600 hover:to-pink-600 transition-colors">
                        <i class="fas fa-gem mr-2"></i>‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶è‡¶° ‡ß® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </a>
                </div>

                <!-- ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
                <div class="task-card p-4 rounded-xl border border-orange-300 bg-orange-50">
                    <div class="flex items-start justify-between mb-3">
                        <div>
                            <div class="flex items-center mb-1">
                                <i class="fas fa-crown text-red-500 mr-2"></i>
                                <h4 class="font-semibold">‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                                <span class="pumpkin-badge ml-2">‡¶®‡¶§‡ßÅ‡¶®</span>
                            </div>
                            <p class="text-green-600 text-sm font-semibold">‡ßß‡ß´ ‡¶ü‡¶æ‡¶ï‡¶æ/‡¶è‡¶°</p>
                            <p class="text-gray-500 text-xs mt-1">‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶Ö‡¶´‡¶æ‡¶∞</p>
                        </div>
                    </div>
                    <button onclick="showSpecialAd()" id="specialAdBtn" class="w-full bg-gradient-to-r from-red-500 to-pink-500 text-white py-2 rounded-lg font-semibold hover:from-red-600 hover:to-pink-600 transition-colors">
                        <i class="fas fa-crown mr-2"></i>‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </button>
                </div>

                <!-- ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
                <div class="task-card p-4 rounded-xl border" id="telegramTask">
                    <div class="flex items-start justify-between mb-3">
                        <div>
                            <div class="flex items-center mb-1">
                                <i class="fab fa-telegram text-blue-400 mr-2"></i>
                                <h4 class="font-semibold">‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h4>
                            </div>
                            <p class="text-green-600 text-sm font-semibold">‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏</p>
                        </div>
                    </div>
                    <button onclick="completeTelegramTask()" id="telegramBtn" class="w-full pumpkin-btn bg-gradient-to-r from-blue-500 to-blue-600">
                        <i class="fab fa-telegram mr-2"></i>‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>

                <!-- ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï -->
                <div class="task-card p-4 rounded-xl border" id="youtubeTask">
                    <div class="flex items-start justify-between mb-3">
                        <div>
                            <div class="flex items-center mb-1">
                                <i class="fab fa-youtube text-red-500 mr-2"></i>
                                <h4 class="font-semibold">‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨</h4>
                            </div>
                            <p class="text-green-600 text-sm font-semibold">‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏</p>
                        </div>
                    </div>
                    <button onclick="completeYoutubeTask()" id="youtubeBtn" class="w-full pumpkin-btn bg-gradient-to-r from-red-500 to-red-600">
                        <i class="fab fa-youtube mr-2"></i>‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>

                <!-- ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡ßü‡¶æ‡¶≤ -->
                <div class="task-card p-4 rounded-xl border">
                    <div class="flex items-start justify-between mb-3">
                        <div>
                            <div class="flex items-center mb-1">
                                <i class="fas fa-video text-purple-500 mr-2"></i>
                                <h4 class="font-semibold">‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡ßü‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</h4>
                            </div>
                            <p class="text-gray-600 text-sm">‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶®‡¶ø‡ßü‡¶Æ ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®</p>
                        </div>
                    </div>
                    <button onclick="watchTutorial()" class="w-full pumpkin-btn bg-gradient-to-r from-purple-500 to-purple-600">
                        <i class="fas fa-play mr-2"></i>‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </button>
                </div>
            </div>
        </div>

        <!-- ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶¨‡¶æ‡¶ü‡¶® -->
        <a href="index.html" class="block w-full pumpkin-btn mt-6 bg-gradient-to-r from-gray-500 to-gray-600">
            <i class="fas fa-arrow-left mr-2"></i>‡¶π‡ßã‡¶Æ ‡¶™‡ßá‡¶ú‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®
        </a>
    </div>

    <!-- ‡¶∏‡¶æ‡¶™‡¶æ‡¶¨‡ßá‡¶∏ SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app-supabase-pumpkin.js"></script>
 <!-- ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶∞ -->
    <div class="pumpkin-nav">
        <div class="grid grid-cols-4 gap-1 px-2 py-3">
            <a href="index.html" class="nav-item active">
                <i class="fas fa-home nav-icon"></i>
                <span class="nav-label">‡¶π‡ßã‡¶Æ</span>
            </a>
            <a href="tasks-pumpkin.html" class="nav-item">
                <i class="fas fa-tasks nav-icon"></i>
                <span class="nav-label">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</span>
            </a>
            <a href="support-pumpkin.html" class="nav-item">
                <i class="fas fa-wallet nav-icon"></i>
                <span class="nav-label">‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞</span>
            </a>
            <a href="profile-pumpkin.html" class="nav-item">
                <i class="fas fa-user nav-icon"></i>
                <span class="nav-label">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</span>
            </a>
        </div>
    </div>
    <script>
        // ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
        const TASK_STATES = {
            telegram: false,
            youtube: false
        };

        function initTasksPage() {
            const user = getUserData();
            if (user) {
                const remaining = 10 - user.today_ads;
                document.getElementById('adsRemaining').textContent = remaining > 0 ? remaining : 0;
                
                // Update reset timer
                updateResetTimer();
                
                // Load Bad Dao Ads count
                loadBadDaoTaskCount();
            }

            // ‡¶≤‡ßã‡¶° ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡ßç‡¶ü‡ßá‡¶ü‡¶∏
            loadTaskStates();
            updateTaskButtons();
            hideLoading();
        }

        function loadBadDaoTaskCount() {
            const today = new Date().toDateString();
            const savedDate = localStorage.getItem('badDaoLastDate');
            const savedAds = localStorage.getItem('badDaoTodayAds');
            
            let todayAds = 0;
            
            if (savedDate === today) {
                todayAds = parseInt(savedAds) || 0;
            }
            
            document.getElementById('badDaoTodayAds').textContent = `${todayAds}/‡ß´‡ß¶`;
        }

        function loadTaskStates() {
            const savedStates = localStorage.getItem('taskStates');
            if (savedStates) {
                const parsedStates = JSON.parse(savedStates);
                Object.assign(TASK_STATES, parsedStates);
            }
        }

        function saveTaskStates() {
            localStorage.setItem('taskStates', JSON.stringify(TASK_STATES));
        }

        function updateTaskButtons() {
            // Telegram Task
            if (TASK_STATES.telegram) {
                document.getElementById('telegramBtn').innerHTML = '<i class="fas fa-check mr-2"></i>‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü‡ßá‡¶°';
                document.getElementById('telegramBtn').classList.add('bg-gray-400');
                document.getElementById('telegramBtn').classList.remove('from-blue-500', 'to-blue-600');
                document.getElementById('telegramBtn').disabled = true;
                document.getElementById('telegramTask').classList.add('completed');
            }

            // YouTube Task
            if (TASK_STATES.youtube) {
                document.getElementById('youtubeBtn').innerHTML = '<i class="fas fa-check mr-2"></i>‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü‡ßá‡¶°';
                document.getElementById('youtubeBtn').classList.add('bg-gray-400');
                document.getElementById('youtubeBtn').classList.remove('from-red-500', 'to-red-600');
                document.getElementById('youtubeBtn').disabled = true;
                document.getElementById('youtubeTask').classList.add('completed');
            }
        }

        function updateResetTimer() {
            const resetTimer = document.getElementById('resetTimer');
            const timeUntilReset = getTimeUntilNextReset();
            resetTimer.textContent = timeUntilReset;
        }

        function watchTutorial() {
            const videoLink = "https://youtu.be/XLXw5o1uU3E?si=HmuoguPxrQY4PmkH";
            window.open(videoLink, '_blank');
            showNotification("‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡ßü‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶®‡¶ø‡ßü‡¶Æ ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®!", "info");
        }

        function completeTelegramTask() {
            if (TASK_STATES.telegram) {
                showNotification('‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶á ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ü‡¶ø ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!', 'info');
                return;
            }

            const telegramLink = "https://t.me/mishti_kumra_bot_channel";
            
            window.open(telegramLink, '_blank');
            
            TASK_STATES.telegram = true;
            saveTaskStates();
            updateTaskButtons();
            
            addTaskBonus(50, "‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶ú‡ßü‡ßá‡¶®");
            
            showNotification("‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶®!", "info");
        }

        function completeYoutubeTask() {
            if (TASK_STATES.youtube) {
                showNotification('‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶á ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ü‡¶ø ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!', 'info');
                return;
            }

            const youtubeLink = "https://www.youtube.com/@mishtikumrabot";
            
            window.open(youtubeLink, '_blank');
            
            TASK_STATES.youtube = true;
            saveTaskStates();
            updateTaskButtons();
            
            addTaskBonus(50, "‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨");
            
            showNotification("‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶®!", "info");
        }

        async function showSpecialAd() {
            const user = getUserData();
            if (!user) {
                alert('‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡ßü‡¶®‡¶ø‡•§ ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                return;
            }

            const specialAdBtn = document.getElementById('specialAdBtn');
            specialAdBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>‡¶è‡¶° ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';
            specialAdBtn.disabled = true;
            specialAdBtn.classList.remove('hover:from-red-600', 'hover:to-pink-600');

            try {
                const adLinks = [
                    "https://medievalkin.com/q3gtdwtif0?key=8fab9c833a59630b50874801fba88f73",
                    "https://medievalkin.com/wzvdzr4ka?key=7a422407e8fedbc108da1c1da906f0a9",
                    "https://adexora.my.id/dl/uDjmlB4uoO",
                    "https://otieu.com/4/9809044"
                ];
                
                const randomIndex = Math.floor(Math.random() * adLinks.length);
                const randomAdLink = adLinks[randomIndex];
                
                const adTab = window.open(randomAdLink, '_blank');
                
                if (adTab) {
                    setTimeout(async () => {
                        try {
                            adTab.close();
                            await addSpecialTaskBonus(15, "‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶°");
                            
                            specialAdBtn.innerHTML = '<i class="fas fa-check mr-2"></i>‡¶∏‡¶´‡¶≤! ‡ßß‡ß´ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá';
                            specialAdBtn.classList.remove('bg-gradient-to-r', 'from-red-500', 'to-pink-500');
                            specialAdBtn.classList.add('bg-green-500');
                            
                            showNotification('üéâ ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®! ‡ßß‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§ ‡ßß‡ß´ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§', 'success');
                            
                            setTimeout(() => {
                                specialAdBtn.innerHTML = '<i class="fas fa-crown mr-2"></i>‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
                                specialAdBtn.classList.remove('bg-green-500');
                                specialAdBtn.classList.add('bg-gradient-to-r', 'from-red-500', 'to-pink-500', 'hover:from-red-600', 'hover:to-pink-600');
                                specialAdBtn.disabled = false;
                            }, 3000);
                            
                        } catch (error) {
                            console.error('Error closing ad tab:', error);
                        }
                    }, 10000);
                    
                    showNotification('‚è≥ ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶° ‡¶™‡ßá‡¶ú‡ßá ‡ßß‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...', 'info');
                    
                } else {
                    specialAdBtn.innerHTML = '<i class="fas fa-crown mr-2"></i>‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
                    specialAdBtn.classList.add('bg-gradient-to-r', 'from-red-500', 'to-pink-500', 'hover:from-red-600', 'hover:to-pink-600');
                    specialAdBtn.disabled = false;
                    showNotification('‡¶™‡¶™‡¶Ü‡¶™ ‡¶¨‡ßç‡¶≤‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡¶™‡¶Ü‡¶™ ‡¶Ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
                }

            } catch (error) {
                console.error('Special ad error:', error);
                specialAdBtn.innerHTML = '<i class="fas fa-crown mr-2"></i>‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
                specialAdBtn.classList.add('bg-gradient-to-r', 'from-red-500', 'to-pink-500', 'hover:from-red-600', 'hover:to-pink-600');
                specialAdBtn.disabled = false;
                
                showNotification('‡¶è‡¶° ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
            }
        }

        async function addTaskBonus(amount, taskName) {
            const user = getUserData();
            if (user) {
                await updateUserData({ 
                    balance: user.balance + amount,
                    total_income: user.total_income + amount
                });
                
                setTimeout(() => {
                    showNotification(`‡¶∏‡¶´‡¶≤! ${amount} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá (${taskName})`, "success");
                }, 1000);
            }
        }

        async function addSpecialTaskBonus(amount, taskName) {
            const user = getUserData();
            if (user) {
                await updateUserData({ 
                    balance: user.balance + amount,
                    total_income: user.total_income + amount,
                    total_ads: user.total_ads + 1
                });
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initTasksPage, 1000);
            
            // Update timer every minute
            setInterval(updateResetTimer, 60000);
        });
    </script>
</body>
</html>